"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[692],{95692:function(e,t,i){i.r(t),i.d(t,{default:function(){return m}});var o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-page"},[t("div",{staticClass:"content-nav"},[t("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("快递设置")])],1),t("div",{staticClass:"operation-nav"},[t("router-link",{attrs:{to:"/dashboard/shipper/list"}},[t("el-button",{attrs:{type:"primary",icon:"plus"}},[e._v("快递公司列表")])],1)],1)],1),t("div",{staticClass:"content-main"},[t("div",{staticClass:"form-table-box"},[t("el-form",{ref:"infoForm",attrs:{model:e.infoForm,rules:e.infoRules,"label-width":"120px"}},[t("el-form-item",{attrs:{label:"打印后自动发货"}},[t("el-switch",{on:{change:function(t){return e.changeStatus(e.infoForm.autoDelivery)}},model:{value:e.infoForm.autoDelivery,callback:function(t){e.$set(e.infoForm,"autoDelivery",t)},expression:"infoForm.autoDelivery"}})],1),t("el-form-item",{attrs:{label:"寄件人",prop:"Name"}},[t("el-input",{attrs:{placeholder:"请输入非代理发货时的寄件人"},model:{value:e.infoForm.Name,callback:function(t){e.$set(e.infoForm,"Name",t)},expression:"infoForm.Name"}})],1),t("el-form-item",{attrs:{label:"电话",prop:"Tel"}},[t("el-input",{attrs:{placeholder:"请输入电话"},model:{value:e.infoForm.Tel,callback:function(t){e.$set(e.infoForm,"Tel",t)},expression:"infoForm.Tel"}})],1),t("el-form-item",{attrs:{label:"省份",prop:"ProvinceName"}},[t("el-cascader",{attrs:{options:e.options,placeholder:"请选择地区"},model:{value:e.senderOptions,callback:function(t){e.senderOptions=t},expression:"senderOptions"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"Address"}},[t("el-input",{attrs:{placeholder:"请输入具体地址"},model:{value:e.infoForm.Address,callback:function(t){e.$set(e.infoForm,"Address",t)},expression:"infoForm.Address"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.onSaveSubmit}},[e._v("确定保存")])],1)],1)],1),t("div",{staticClass:"form-table-box"},[t("el-form",{attrs:{"label-width":"120px"}},[t("el-form-item",{attrs:{label:"使用中的快递"}},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{prop:"name",label:"名字"}}),t("el-table-column",{attrs:{prop:"code",label:"代号"}}),t("el-table-column",{attrs:{prop:"CustomerName",label:"客户编号"}}),t("el-table-column",{attrs:{prop:"MonthCode",label:"月结账号"}}),t("el-table-column",{attrs:{label:"操作",width:"170"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("el-button",{attrs:{size:"small"},on:{click:function(t){return e.handleRowEdit(i.$index,i.row)}}},[e._v("编辑 ")])]}}])})],1)],1)],1)],1)])])},r=[],s=(i(57658),{data(){return{infoForm:{},page:1,total:0,filterForm:{name:""},tableData:[],options:[],senderOptions:[],infoRules:{Name:[{required:!0,message:"请输入寄件人姓名",trigger:"blur"}],Tel:[{required:!0,message:"请输入寄件人电话",trigger:"blur"}],ProvinceName:[{required:!0,message:"请输入寄件省份",trigger:"blur"}],CityName:[{required:!0,message:"请输入寄件城市",trigger:"blur"}],ExpAreaName:[{required:!0,message:"请输入寄件区县",trigger:"blur"}],Address:[{required:!0,message:"请输入寄件人具体地址",trigger:"blur"}]}}},methods:{getAllRegion(){this.axios.get("order/getAllRegion").then((e=>{this.options=e.data.data}))},changeStatus(){1==this.infoForm.autoDelivery?this.infoForm.autoDelivery=1:this.infoForm.autoDelivery=0,this.axios.post("admin/changeAutoStatus",{status:this.infoForm.autoDelivery}).then((e=>{0===e.data.errno?(this.$message({type:"success",message:"更改成功"}),1==this.infoForm.autoDelivery?this.infoForm.autoDelivery=!0:this.infoForm.autoDelivery=!1):this.$message({type:"error",message:"更改失败"})}))},handleRowEdit(e,t){this.$router.push({name:"shipper_add",query:{id:t.id}})},onSaveSubmit(){this.infoForm.province_id=this.senderOptions[0],this.infoForm.city_id=this.senderOptions[1],this.infoForm.district_id=this.senderOptions[2],1==this.infoForm.autoDelivery?this.infoForm.autoDelivery=1:this.infoForm.autoDelivery=0,this.$refs["infoForm"].validate((e=>{if(!e)return!1;this.axios.post("admin/storeShipperSettings",this.infoForm).then((e=>{0===e.data.errno?(this.$message({type:"success",message:"保存成功"}),1==this.infoForm.autoDelivery?this.infoForm.autoDelivery=!0:this.infoForm.autoDelivery=!1):this.$message({type:"error",message:"保存失败"})}))}))},getList(){this.axios.get("shipper").then((e=>{this.infoForm=e.data.data.set,this.tableData=e.data.data.info,1==this.infoForm.autoDelivery?this.infoForm.autoDelivery=!0:this.infoForm.autoDelivery=!1,this.senderOptions.push(this.infoForm.province_id,this.infoForm.city_id,this.infoForm.district_id)}))}},components:{},mounted(){this.getList(),this.getAllRegion()}}),a=s,l=i(1001),n=(0,l.Z)(a,o,r,!1,null,"abe88880",null),m=n.exports}}]);
//# sourceMappingURL=692.f4bbebef.js.map