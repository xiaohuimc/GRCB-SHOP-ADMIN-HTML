"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[566],{4566:function(t,a,e){e.r(a),e.d(a,{default:function(){return d}});var l=function(){var t=this,a=t._self._c;return a("div",{staticClass:"wrap"},[a("div",{staticClass:"main"},[a("el-tabs",{staticClass:"tabs-wrap",on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(a){t.activeName=a},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全部商品",name:"first"}}),a("el-tab-pane",{attrs:{label:"出售中",name:"second"}}),a("el-tab-pane",{attrs:{label:"已下架",name:"fourth"}})],1),a("div",{staticClass:"form-table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"list_pic_url",label:"图片",width:"80"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"60px",height:"60px"},attrs:{src:t.row.list_pic_url,alt:""}})]}}])}),a("el-table-column",{attrs:{prop:"name",label:"商品名称"}}),a("el-table-column",{attrs:{prop:"retail_price",label:"售价",width:"90",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{placeholder:"售价"},on:{blur:function(a){return t.submit(e.$index,e.row)}},model:{value:e.row.retail_price,callback:function(a){t.$set(e.row,"retail_price",a)},expression:"scope.row.retail_price"}})]}}])}),a("el-table-column",{attrs:{label:"上架",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(a){return t.changeStatus(a,t.tableData[e.$index].goods_id)}},model:{value:t.tableData[e.$index].is_on_sale,callback:function(a){t.$set(t.tableData[e.$index],"is_on_sale",a)},expression:"tableData[scope.$index].is_on_sale"}})]}}])})],1)],1)],1)])},s=[],i=e(70636),n={data(){return{page:1,total:0,filterForm:{name:""},tableData:[],activeName:"second",pIndex:0,num:0,activeClass:0}},components:{},methods:{submit(t,a){this.axios.post("wap/updatePrice",{id:a.goods_id,sn:a.goods_sn,price:a.retail_price}).then((t=>{}))},changeStatus(t,a){this.axios.get("goods/saleStatus",{params:{status:t,id:a}}).then((t=>{this.getList()}))},logout(){this.$confirm("是否要退出?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then((()=>{localStorage.clear(),this.$router.replace({name:"login"})}))},handleClick(t,a){let e=t._data.index;this.activeClass=0,0==e?(this.getOnSaleList(),this.pIndex=0):1==e&&(this.getOutSaleList(),this.pIndex=1)},getList(){this.axios.get("wap").then((t=>{console.log(t.data),this.tableData=t.data.data}))},getOnSaleList(){this.axios.get("wap/onsale").then((t=>{console.log(t.data),console.log("@@@@@@@",t.data.data),this.tableData=t.data.data}))},getOutSaleList(){this.axios.get("wap/drop").then((t=>{console.log(t.data),console.log("@@@@@@@",t.data.data.data),this.tableData=t.data.data}))}},mounted(){this.getList(),this.root=i.Z.rootUrl}},o=n,r=e(1001),c=(0,r.Z)(o,l,s,!1,null,"2ae60477",null),d=c.exports}}]);
//# sourceMappingURL=566.fdf4a3b1.js.map