"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[599],{599:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var l=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-page"},[e("div",{staticClass:"content-nav"},[e("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[e("el-breadcrumb-item",[t._v("管理员")])],1)],1),e("div",{staticClass:"content-main"},[e("div",{staticClass:"form-table-box"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"60"}}),e("el-table-column",{attrs:{prop:"username",label:"会员名称"}}),e("el-table-column",{attrs:{prop:"last_login_time",label:"最近登录",width:"200"}}),e("el-table-column",{attrs:{prop:"last_login_ip",label:"登录IP",width:"200"}}),e("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.handleRowEdit(a.$index,a.row)}}},[t._v("编辑")]),a.row.id!=t.loginInfo.id?e("el-button",{attrs:{plain:"",size:"small",type:"danger"},on:{click:function(e){return t.handleRowDelete(a.$index,a.row)}}},[t._v("删除")]):t._e()]}}])})],1)],1)])])},n=[],i=(a(57658),{data(){return{page:1,total:0,filterForm:{username:""},tableData:[],loginInfo:null}},methods:{handleRowEdit(t,e){this.$router.push({name:"admin_add",query:{id:e.id}})},handleRowDelete(t,e){console.log(e),this.$confirm("确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.axios.post("admin/deleAdmin",{id:e.id}).then((t=>{console.log(t.data),0===t.data.errno&&(this.$message({type:"success",message:"删除成功!"}),this.getList())}))}))},onSubmitFilter(){this.page=1,this.getList()},getList(){this.axios.get("admin").then((t=>{this.tableData=t.data.data,console.log(this.tableData)}))}},components:{},mounted(){this.getList(),this.loginInfo||(this.loginInfo=JSON.parse(window.localStorage.getItem("userInfo")||null))}}),s=i,o=a(1001),r=(0,o.Z)(s,l,n,!1,null,"39fdc92e",null),d=r.exports}}]);
//# sourceMappingURL=599.c67df770.js.map