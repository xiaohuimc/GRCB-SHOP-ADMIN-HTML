"use strict";(self["webpackChunkadmin"]=self["webpackChunkadmin"]||[]).push([[191],{99191:function(t,e,a){a.r(e),a.d(e,{default:function(){return c}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-page"},[e("div",{staticClass:"content-nav"},[e("el-breadcrumb",{staticClass:"breadcrumb",attrs:{separator:"/"}},[e("el-breadcrumb-item",{attrs:{to:{name:"shipper"}}},[t._v("快递设置")]),e("el-breadcrumb-item",[t._v("快递列表")])],1),e("div",{staticClass:"operation-nav"},[e("el-button",{attrs:{plain:"",type:"primary",icon:"arrow-left"},on:{click:t.addShipper}},[t._v("添加快递")]),e("el-button",{attrs:{icon:"arrow-left"},on:{click:t.goBackPage}},[t._v("返回")])],1)],1),e("div",{staticClass:"content-main"},[e("div",{staticClass:"filter-box"},[e("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.filterForm}},[e("el-form-item",{attrs:{label:"快递公司"}},[e("el-input",{attrs:{placeholder:"搜索快递公司"},model:{value:t.filterForm.name,callback:function(e){t.$set(t.filterForm,"name",e)},expression:"filterForm.name"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmitFilter}},[t._v("查询")])],1)],1)],1),e("div",{staticClass:"form-table-box"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[e("el-table-column",{attrs:{prop:"id",label:"ID",width:"100px"}}),e("el-table-column",{attrs:{prop:"name",label:"名字",width:"220"}}),e("el-table-column",{attrs:{prop:"code",label:"代号",width:"220"}}),e("el-table-column",{attrs:{prop:"sort_order",label:"排序",width:"220"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-input-number",{staticClass:"sort-width",attrs:{size:"mini",min:1,max:100,"controls-position":"right",placeholder:"排序"},on:{blur:function(e){return t.submitSort(a.$index,a.row)},change:function(e){return t.submitSort(a.$index,a.row)}},model:{value:a.row.sort_order,callback:function(e){t.$set(a.row,"sort_order",e)},expression:"scope.row.sort_order"}})]}}])}),e("el-table-column",{attrs:{label:"使用",width:"80"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-switch",{attrs:{"active-text":"","inactive-text":""},on:{change:function(e){return t.changeStatus(e,a.row.id)}},model:{value:a.row.enabled,callback:function(e){t.$set(a.row,"enabled",e)},expression:"scope.row.enabled"}})]}}])}),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"small"},on:{click:function(e){return t.handleRowEdit(a.$index,a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(e){return t.handleRowDelete(a.$index,a.row)}}},[t._v("删除")])]}}])})],1)],1),e("div",{staticClass:"page-box"},[e("el-pagination",{attrs:{"current-page":t.page,"page-size":10,layout:"total, prev, pager, next, jumper",total:t.total},on:{"current-change":t.handlePageChange}})],1)])])},s=[],i=(a(57658),{data(){return{page:1,total:0,filterForm:{name:""},tableData:[]}},methods:{submitSort(t,e){this.axios.post("shipper/updateSort",{id:e.id,sort:e.sort_order}).then((t=>{}))},goBackPage(){this.$router.go(-1)},handlePageChange(t){this.page=t,localStorage.setItem("shipperPage",this.page),localStorage.setItem("shipperFilterForm",JSON.stringify(this.filterForm)),this.getList()},addShipper(){this.$router.push({name:"shipper_add",query:{id:0}})},handleRowEdit(t,e){this.$router.push({name:"shipper_add",query:{id:e.id}})},handleRowDelete(t,e){this.$confirm("确定要删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.axios.post("shipper/destory",{id:e.id}).then((t=>{console.log(t.data),0===t.data.errno&&(this.$message({type:"success",message:"删除成功!"}),this.getList())}))}))},onSubmitFilter(){this.page=1,this.getList()},getList(){this.axios.get("shipper/list",{params:{page:this.page,name:this.filterForm.name}}).then((t=>{this.tableData=t.data.data.data,this.page=t.data.data.currentPage,this.total=t.data.data.count,console.log(this.tableData);for(const e of this.tableData)e.enabled=!!e.enabled}))},changeStatus(t,e){this.axios.get("shipper/enabledStatus",{params:{status:t,id:e}}).then((t=>{this.$message({type:"success",message:"更新成功!"})}))}},components:{},mounted(){this.getList()}}),o=i,n=a(1001),l=(0,n.Z)(o,r,s,!1,null,"5c1be004",null),c=l.exports}}]);
//# sourceMappingURL=191.bf85332f.js.map